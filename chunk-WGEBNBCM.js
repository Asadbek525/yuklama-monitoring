import{Aa as m,Ba as p,Ca as s,Da as d,Ea as _,Fa as u,Ga as B,I as $,Ia as h,Ja as y,M as F,Ma as b,R as H,S as T,a as q,aa as I,d as V,ka as f,sa as c,ya as z,za as P}from"./chunk-DB7HFREQ.js";var G={};V(G,{aerob:()=>J,anaerob:()=>K,aralash:()=>Z,maxsus:()=>ee,sakrash:()=>Q,sport:()=>X});var J=[22.4,28,33.6,28.2,18,24.6,30.8,31,19,27.6,34.7,41.5,34.6,30.6,38.2,45.9,38.3,19.6,26.4,32.7,33,20,28,34,42,36,34.5,43.2,51.8,43,32,39.9,48.8,42,23.6,31.5,39,40,23.7,28.2,28.6,34.2,23.2,18.2,24.4,30.4,31,18.4,34.2,42.7,51.4,43],Z=[12,15,17.9,14.8,9.8,13,16,16.8,10.1,14.7,18.4,22,18.5,16.2,20.3,24.4,20.5,10.5,14,17.2,17.8,10.6,15,18.8,22.1,14.8,18.4,23,27.6,22.8,17.4,21.4,26,21.8,12.4,16.5,20.4,22,12.6,15.2,15.4,18.2,12,9.4,13,16,16.5,10.2,18.2,22.6,27.4,23],K=[1.2,1.5,2,1.6,1,1.2,1.6,1.8,1.1,1.5,2,2.3,2,1.7,2.1,2.6,2.3,1.2,1.5,1.8,2,1,1.8,2,2.3,1.8,2,2.5,3,2.3,1.8,2.4,2.6,2.4,1.2,1.8,2.1,2.4,1.4,1.5,1.8,2,1.2,1,1.4,1.6,1.8,1.2,1.8,2.4,3,2.5],Q=[.5,.7,.8,.7,.5,.6,.7,.8,.4,.7,.8,1,.9,.7,.9,1.1,1,.5,.6,.8,.8,.5,.7,.9,1,8,.8,1,1.2,1.1,.7,1,1.2,1,.5,.7,1,1,.6,.8,.7,.8,.4,.4,.6,.7,.7,.5,.8,1.2,1.2,1],X=[1,1,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1],ee=[0,1,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0];var E=[{id:"stg-1",name:"1-bosqich",data:q({},G)}];var x=class a{groups=I(E);selectedGroupId=I(E[0]?.id??"");selectedGroup=h(()=>{let t=this.selectedGroupId();return this.groups().find(e=>e.id===t)??this.groups()[0]});selectGroup(t){this.selectedGroupId.set(t)}static \u0275fac=function(e){return new(e||a)};static \u0275prov=$({token:a,factory:a.\u0275fac,providedIn:"root"})};var C=[{name:"Sen",weeks:4},{name:"Okt",weeks:5},{name:"Noy",weeks:4},{name:"Dek",weeks:4},{name:"Yan",weeks:5},{name:"Fev",weeks:4},{name:"Mar",weeks:4},{name:"Apr",weeks:4},{name:"May",weeks:5},{name:"Iyn",weeks:4},{name:"Iyl",weeks:5},{name:"Avg",weeks:4}],L=["Sentyabr","Oktyabr","Noyabr","Dekabr","Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust"];function te(a){let t=0;for(let e=0;e<C.length;e++)if(t+=C[e].weeks,a<t)return L[e];return L[L.length-1]}function ae(){let a=[],t=1;for(let e of C)for(let o=0;o<e.weeks;o++)o===0?a.push(`${e.name}`):a.push(`${t}`),t++;return a}function oe(){let a=[],t=0;for(let e of C)t+=e.weeks,t<52&&a.push(t-1);return a}function Y(a,t){let e=a.filter(i=>i===1).length,o=e>0?t/e:0;return a.map(i=>i===1?Number(o.toFixed(1)):0)}var D=class a{data=y.required();chartOptions=h(()=>{let t=this.data(),e=ae(),o=oe(),i=Y(t.sport,40),l=Y(t.maxsus,80),r=o.map(n=>({xAxis:n,lineStyle:{type:"dashed",color:"#d1d5db",width:1},label:{show:!1}}));return{tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:n=>{let k=n,v=k[0].dataIndex,N=v+1,w=`<strong>${te(v)}, ${N}-hafta</strong><br/>`;return k.forEach(g=>{let U=g.seriesName==="Sport o'yinlari"||g.seriesName==="Maxsus kuch mashqlari"?"soat":"km";w+=`<span style="color:${g.color}">\u25CF</span> ${g.seriesName}: <strong>${g.value} ${U}</strong><br/>`}),w}},legend:{data:["Aerob yuklama","Aralash yuklama","Anaerob yuklama","Sakrashlar","Sport o'yinlari","Maxsus kuch mashqlari"],top:0,itemGap:10,textStyle:{fontSize:11}},grid:{left:"2%",right:"2%",bottom:"2%",top:"5%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e,axisLabel:{interval:0,fontSize:9,rotate:0}},yAxis:[{type:"value",name:"Masofa (km)",nameLocation:"middle",nameGap:45,min:0,interval:5},{type:"value",name:"Vaqt (soat)",nameLocation:"middle",nameGap:45,min:0,splitLine:{show:!1}}],series:[{name:"Aerob yuklama",type:"line",smooth:!0,data:t.aerob,yAxisIndex:0,lineStyle:{width:2},itemStyle:{color:"#22c55e"},symbol:"circle",symbolSize:6,showSymbol:!1,emphasis:{focus:"series"},markLine:{silent:!0,symbol:"none",data:r}},{name:"Aralash yuklama",type:"line",smooth:!0,data:t.aralash,yAxisIndex:0,lineStyle:{width:2},itemStyle:{color:"#eab308"},symbol:"circle",symbolSize:6,showSymbol:!1,emphasis:{focus:"series"}},{name:"Anaerob yuklama",type:"line",smooth:!0,data:t.anaerob,yAxisIndex:0,lineStyle:{width:2},itemStyle:{color:"#ef4444"},symbol:"circle",symbolSize:6,showSymbol:!1,emphasis:{focus:"series"}},{name:"Sakrashlar",type:"line",smooth:!0,data:t.sakrash,yAxisIndex:0,lineStyle:{width:2},itemStyle:{color:"#3b82f6"},symbol:"circle",symbolSize:6,showSymbol:!1,emphasis:{focus:"series"}},{name:"Sport o'yinlari",type:"line",data:i,yAxisIndex:1,smooth:!0,lineStyle:{width:2},itemStyle:{color:"#f97316"},symbol:"circle",symbolSize:6,showSymbol:!1,emphasis:{focus:"series"}},{name:"Maxsus kuch mashqlari",type:"line",data:l,yAxisIndex:1,smooth:!0,lineStyle:{width:2},itemStyle:{color:"#a855f7"},symbol:"circle",symbolSize:6,showSymbol:!1,emphasis:{focus:"series"}}]}});static \u0275fac=function(e){return new(e||a)};static \u0275cmp=c({type:a,selectors:[["app-workload-line-chart"]],inputs:{data:[1,"data"]},decls:1,vars:1,consts:[["echarts","","aria-label","52 hafta davomida aerob, aralash, anaerob va sakrash qiymatlarini ko'rsatuvchi yuklama chiziqli grafigi","role","img",1,"w-full",3,"options"]],template:function(e,o){e&1&&d(0,"div",0),e&2&&m("options",o.chartOptions())},dependencies:[b],encapsulation:2,changeDetection:0})};var M=class a{data=y.required();chartOptions=h(()=>{let t=this.data(),e=t.aerob.reduce((r,n)=>r+n,0),o=t.aralash.reduce((r,n)=>r+n,0),i=t.anaerob.reduce((r,n)=>r+n,0),l=t.sakrash.reduce((r,n)=>r+n,0);return{tooltip:{trigger:"item",formatter:r=>{let n=r;return`<strong>${n.name}</strong><br/>Jami: ${n.value.toFixed(1)} km<br/>Ulushi: ${n.percent.toFixed(1)}%`}},legend:{orient:"vertical",right:"5%",top:"center",itemGap:12},series:[{name:"Yuklama taqsimoti",type:"pie",radius:["40%","70%"],center:["40%","50%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:8,borderColor:"#fff",borderWidth:2},label:{show:!0,formatter:"{b}: {d}%"},emphasis:{label:{show:!0,fontSize:14,fontWeight:"bold"}},labelLine:{show:!0},data:[{value:e,name:"Aerob yuklama",itemStyle:{color:"#22c55e"}},{value:o,name:"Aralash yuklama",itemStyle:{color:"#eab308"}},{value:i,name:"Anaerob yuklama",itemStyle:{color:"#ef4444"}},{value:l,name:"Sakrashlar",itemStyle:{color:"#3b82f6"}}]}]}});static \u0275fac=function(e){return new(e||a)};static \u0275cmp=c({type:a,selectors:[["app-workload-pie-chart"]],inputs:{data:[1,"data"]},decls:1,vars:1,consts:[["echarts","","aria-label","Aerob, aralash, anaerob va sakrash umumiy qiymatlarini taqqoslovchi doiraviy grafik","role","img",1,"h-64","w-full",3,"options"]],template:function(e,o){e&1&&d(0,"div",0),e&2&&m("options",o.chartOptions())},dependencies:[b],encapsulation:2,changeDetection:0})};var W=[{name:"Sentyabr",weeks:4},{name:"Oktyabr",weeks:5},{name:"Noyabr",weeks:4},{name:"Dekabr",weeks:4},{name:"Yanvar",weeks:5},{name:"Fevral",weeks:4},{name:"Mart",weeks:4},{name:"Aprel",weeks:4},{name:"May",weeks:5},{name:"Iyun",weeks:4},{name:"Iyul",weeks:5},{name:"Avgust",weeks:4}];function re(a){let t=0;for(let e of W)if(t+=e.weeks,a<t)return e.name;return W[W.length-1].name}var A=class a{sport=y.required();maxsus=y.required();chartOptions=h(()=>{let t=this.sport(),e=this.maxsus(),o=Array.from({length:52},(l,r)=>`${r+1}`),i=[];return t.forEach((l,r)=>{i.push([r,0,l])}),e.forEach((l,r)=>{i.push([r,1,l+2])}),{tooltip:{position:"top",formatter:l=>{let r=l,n=r.data[0],k=n+1,v=re(n),N=r.data[1]===0?"Sport o'yinlari":"Maxsus kuch mashqlari",w=(r.data[1]===0?r.data[2]===1:r.data[2]===3)?"\u2713 Faol":"\u2717 Nofaol";return`<strong>${v}, ${k}-hafta</strong><br/>${N}: ${w}`}},grid:{left:"12%",right:"2%",bottom:"15%",top:"5%"},xAxis:{type:"category",data:o,splitArea:{show:!1},axisLabel:{interval:3,fontSize:10},axisTick:{show:!1},axisLine:{show:!1}},yAxis:{type:"category",data:["Sport o'yinlari","Maxsus kuch mashqlari"],splitArea:{show:!1},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{fontSize:10}},visualMap:{show:!1,min:0,max:3,inRange:{color:["#fed7aa","#f97316","#e9d5ff","#a855f7"]}},series:[{type:"heatmap",data:i,itemStyle:{borderRadius:3,borderWidth:2,borderColor:"#fff"},emphasis:{itemStyle:{shadowBlur:5,shadowColor:"rgba(0, 0, 0, 0.3)"}}}]}});static \u0275fac=function(e){return new(e||a)};static \u0275cmp=c({type:a,selectors:[["app-binary-heatmap-chart"]],inputs:{sport:[1,"sport"],maxsus:[1,"maxsus"]},decls:1,vars:1,consts:[["echarts","","aria-label","52 hafta davomida sport va maxsus faoliyatni ko'rsatuvchi grafik","role","img",1,"h-36","w-full",3,"options"]],template:function(e,o){e&1&&d(0,"div",0),e&2&&m("options",o.chartOptions())},dependencies:[b],encapsulation:2,changeDetection:0})};var ne=(a,t)=>t.id;function se(a,t){if(a&1&&(p(0,"option",8),u(1),s()),a&2){let e=t.$implicit;m("value",e.id),f(),B(e.name)}}var j=class a{workloadService=F(x);groups=this.workloadService.groups;selectedGroup=this.workloadService.selectedGroup;onGroupChange(t){let e=t.target;this.workloadService.selectGroup(e.value)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=c({type:a,selectors:[["app-dashboard"]],decls:29,vars:5,consts:[[1,"min-h-screen","bg-gray-50","p-6"],[1,"mb-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"mt-1","text-sm","text-gray-600"],[1,"mb-4"],["for","group-select",1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"relative","w-full","max-w-xs"],["id","group-select",1,"block","w-full","appearance-none","rounded-lg","border","border-gray-300","bg-white","px-4","py-2.5","pr-10","text-sm","font-medium","text-gray-700","shadow-sm","transition-all","hover:border-blue-400","focus:border-blue-500","focus:outline-none","focus:ring-2","focus:ring-blue-500/20",3,"change","value"],[3,"value"],[1,"pointer-events-none","absolute","inset-y-0","right-0","flex","items-center","pr-3"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-gray-400"],["fill-rule","evenodd","d","M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule","evenodd"],[1,"mb-4","rounded-lg","bg-white","p-4","shadow"],[1,"mb-2","text-lg","font-semibold","text-gray-800"],[3,"data"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-4"],[1,"rounded-lg","bg-white","p-4","shadow"],[3,"sport","maxsus"]],template:function(e,o){e&1&&(p(0,"div",0)(1,"header",1)(2,"h1",2),u(3,"Yuklamalar monitoringi"),s(),p(4,"p",3),u(5,"Haftalik mashg'ulot ma'lumotlarini vizualizatsiya qilish"),s()(),p(6,"div",4)(7,"label",5),u(8," Guruhni tanlang "),s(),p(9,"div",6)(10,"select",7),_("change",function(l){return o.onGroupChange(l)}),z(11,se,2,2,"option",8,ne),s(),p(13,"div",9),H(),p(14,"svg",10),d(15,"path",11),s()()()(),T(),p(16,"section",12)(17,"h2",13),u(18,"Mashg'ulot yuklama"),s(),d(19,"app-workload-line-chart",14),s(),p(20,"div",15)(21,"section",16)(22,"h2",13),u(23,"Yuklama taqsimoti"),s(),d(24,"app-workload-pie-chart",14),s(),p(25,"section",16)(26,"h2",13),u(27,"Sport va Maxsus faoliyat"),s(),d(28,"app-binary-heatmap-chart",17),s()()()),e&2&&(f(10),m("value",o.selectedGroup().id),f(),P(o.groups()),f(8),m("data",o.selectedGroup().data),f(5),m("data",o.selectedGroup().data),f(4),m("sport",o.selectedGroup().data.sport)("maxsus",o.selectedGroup().data.maxsus))},dependencies:[D,M,A],encapsulation:2,changeDetection:0})};export{j as DashboardComponent};
