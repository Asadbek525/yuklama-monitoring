import{Aa as l,Ba as i,Ca as s,Da as m,Ea as _,Fa as p,Ga as P,I as q,Ia as f,Ja as x,M as O,Ma as v,R as $,S as T,a as W,aa as I,d as U,ka as h,sa as b,ya as z,za as F}from"./chunk-DB7HFREQ.js";var M={};U(M,{aerob:()=>J,anaerob:()=>Z,aralash:()=>V,maxsus:()=>X,sakrash:()=>K,sport:()=>Q});var J=[22.4,28,33.6,28.2,18,24.6,30.8,31,19,27.6,34.7,41.5,34.6,30.6,38.2,45.9,38.3,19.6,26.4,32.7,33,20,28,34,42,36,34.5,43.2,51.8,43,32,39.9,48.8,42,23.6,31.5,39,40,23.7,28.2,28.6,34.2,23.2,18.2,24.4,30.4,31,18.4,34.2,42.7,51.4,43],V=[12,15,17.9,14.8,9.8,13,16,16.8,10.1,14.7,18.4,22,18.5,16.2,20.3,24.4,20.5,10.5,14,17.2,17.8,10.6,15,18.8,22.1,14.8,18.4,23,27.6,22.8,17.4,21.4,26,21.8,12.4,16.5,20.4,22,12.6,15.2,15.4,18.2,12,9.4,13,16,16.5,10.2,18.2,22.6,27.4,23],Z=[1.2,1.5,2,1.6,1,1.2,1.6,1.8,1.1,1.5,2,2.3,2,1.7,2.1,2.6,2.3,1.2,1.5,1.8,2,1,1.8,2,2.3,1.8,2,2.5,3,2.3,1.8,2.4,2.6,2.4,1.2,1.8,2.1,2.4,1.4,1.5,1.8,2,1.2,1,1.4,1.6,1.8,1.2,1.8,2.4,3,2.5],K=[.5,.7,.8,.7,.5,.6,.7,.8,.4,.7,.8,1,.9,.7,.9,1.1,1,.5,.6,.8,.8,.5,.7,.9,1,8,.8,1,1.2,1.1,.7,1,1.2,1,.5,.7,1,1,.6,.8,.7,.8,.4,.4,.6,.7,.7,.5,.8,1.2,1.2,1],Q=[1,1,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1],X=[0,1,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0];var G=[{id:"stg-1",name:"1-bosqich",data:W({},M)}];var w=class a{groups=I(G);selectedGroupId=I(G[0]?.id??"");selectedGroup=f(()=>{let e=this.selectedGroupId();return this.groups().find(t=>t.id===e)??this.groups()[0]});selectGroup(e){this.selectedGroupId.set(e)}static \u0275fac=function(t){return new(t||a)};static \u0275prov=q({token:a,factory:a.\u0275fac,providedIn:"root"})};var S=[{name:"Sen",weeks:4},{name:"Okt",weeks:5},{name:"Noy",weeks:4},{name:"Dek",weeks:4},{name:"Yan",weeks:5},{name:"Fev",weeks:4},{name:"Mar",weeks:4},{name:"Apr",weeks:4},{name:"May",weeks:5},{name:"Iyn",weeks:4},{name:"Iyl",weeks:5},{name:"Avg",weeks:4}],N=["Sentyabr","Oktyabr","Noyabr","Dekabr","Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust"];function ee(a){let e=0;for(let t=0;t<S.length;t++)if(e+=S[t].weeks,a<e)return N[t];return N[N.length-1]}function te(){let a=[],e=1;for(let t of S)for(let o=0;o<t.weeks;o++)o===0?a.push(`${t.name}`):a.push(`${e}`),e++;return a}function ae(){let a=[],e=0;for(let t of S)e+=t.weeks,e<52&&a.push(e-1);return a}var C=class a{data=x.required();chartOptions=f(()=>{let e=this.data(),t=te(),o=ae(),g=e.sport.map((d,c)=>[c,0,d]),y=e.maxsus.map((d,c)=>[c,1,d+2]),n=[...g,...y],r=o.map(d=>({xAxis:d,lineStyle:{type:"dashed",color:"#d1d5db",width:1},label:{show:!1}}));return{tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:d=>{let c=d,E=c[0].dataIndex,Y=E+1,A=`<strong>${ee(E)}, ${Y}-hafta</strong><br/>`;return c.forEach(u=>{if(u.componentSubType==="heatmap"){let k=u.value,j=k[1]===0?"Sport o'yinlari":"Maxsus kuch mashqlari",B=(k[1]===0?k[2]===1:k[2]===3)?"\u2713":"\u2717";A+=`<span style="color:${u.color}">\u25CF</span> ${j}: ${B}<br/>`}else A+=`<span style="color:${u.color}">\u25CF</span> ${u.seriesName}: <strong>${u.value} km</strong><br/>`}),A}},legend:{data:["Aerob yuklama","Aralash yuklama","Anaerob yuklama","Sakrashlar",{name:"Sport o'yinlari",icon:"roundRect"},{name:"Maxsus kuch mashqlari",icon:"roundRect"}],top:0,itemGap:12,textStyle:{fontSize:11}},grid:[{left:"3%",right:"3%",top:"8%",height:"65%",containLabel:!0},{left:"3%",right:"3%",top:"82%",height:"12%",containLabel:!0}],xAxis:[{type:"category",boundaryGap:!1,data:t,gridIndex:0,axisLabel:{interval:0,fontSize:9}},{type:"category",data:t,gridIndex:1,axisLabel:{show:!1},axisTick:{show:!1},axisLine:{show:!1}}],yAxis:[{type:"value",name:"km",nameLocation:"middle",nameGap:35,min:0,interval:5,gridIndex:0},{type:"category",data:["Sport o'yinlari","Maxsus kuch mashqlari"],gridIndex:1,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{fontSize:9}}],visualMap:{show:!1,min:0,max:3,inRange:{color:["#fed7aa","#f97316","#e9d5ff","#a855f7"]},seriesIndex:6},series:[{name:"Aerob yuklama",type:"line",smooth:!0,data:e.aerob,xAxisIndex:0,yAxisIndex:0,lineStyle:{width:2},itemStyle:{color:"#22c55e"},symbol:"circle",symbolSize:6,showSymbol:!1,emphasis:{focus:"series"},markLine:{silent:!0,symbol:"none",data:r}},{name:"Aralash yuklama",type:"line",smooth:!0,data:e.aralash,xAxisIndex:0,yAxisIndex:0,lineStyle:{width:2},itemStyle:{color:"#eab308"},symbol:"circle",symbolSize:6,showSymbol:!1,emphasis:{focus:"series"}},{name:"Anaerob yuklama",type:"line",smooth:!0,data:e.anaerob,xAxisIndex:0,yAxisIndex:0,lineStyle:{width:2},itemStyle:{color:"#ef4444"},symbol:"circle",symbolSize:6,showSymbol:!1,emphasis:{focus:"series"}},{name:"Sakrashlar",type:"line",smooth:!0,data:e.sakrash,xAxisIndex:0,yAxisIndex:0,lineStyle:{width:2},itemStyle:{color:"#3b82f6"},symbol:"circle",symbolSize:6,showSymbol:!1,emphasis:{focus:"series"}},{name:"Sport o'yinlari",type:"line",data:[],itemStyle:{color:"#f97316"},lineStyle:{width:0},symbol:"none"},{name:"Maxsus kuch mashqlari",type:"line",data:[],itemStyle:{color:"#a855f7"},lineStyle:{width:0},symbol:"none"},{name:"Activity",type:"heatmap",data:n,xAxisIndex:1,yAxisIndex:1,itemStyle:{borderRadius:2,borderWidth:1,borderColor:"#fff"}}]}});static \u0275fac=function(t){return new(t||a)};static \u0275cmp=b({type:a,selectors:[["app-workload-line-chart"]],inputs:{data:[1,"data"]},decls:1,vars:1,consts:[["echarts","","aria-label","52 hafta davomida aerob, aralash, anaerob va sakrash qiymatlarini ko'rsatuvchi yuklama chiziqli grafigi","role","img",1,"h-[580px]","w-full",3,"options"]],template:function(t,o){t&1&&m(0,"div",0),t&2&&l("options",o.chartOptions())},dependencies:[v],encapsulation:2,changeDetection:0})};var D=class a{data=x.required();chartOptions=f(()=>{let e=this.data(),t=e.aerob.reduce((n,r)=>n+r,0),o=e.aralash.reduce((n,r)=>n+r,0),g=e.anaerob.reduce((n,r)=>n+r,0),y=e.sakrash.reduce((n,r)=>n+r,0);return{tooltip:{trigger:"item",formatter:n=>{let r=n;return`<strong>${r.name}</strong><br/>Jami: ${r.value.toFixed(1)} km<br/>Ulushi: ${r.percent.toFixed(1)}%`}},legend:{orient:"vertical",right:"5%",top:"center",itemGap:12},series:[{name:"Yuklama taqsimoti",type:"pie",radius:["40%","70%"],center:["40%","50%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:8,borderColor:"#fff",borderWidth:2},label:{show:!0,formatter:"{b}: {d}%"},emphasis:{label:{show:!0,fontSize:14,fontWeight:"bold"}},labelLine:{show:!0},data:[{value:t,name:"Aerob yuklama",itemStyle:{color:"#22c55e"}},{value:o,name:"Aralash yuklama",itemStyle:{color:"#eab308"}},{value:g,name:"Anaerob yuklama",itemStyle:{color:"#ef4444"}},{value:y,name:"Sakrashlar",itemStyle:{color:"#3b82f6"}}]}]}});static \u0275fac=function(t){return new(t||a)};static \u0275cmp=b({type:a,selectors:[["app-workload-pie-chart"]],inputs:{data:[1,"data"]},decls:1,vars:1,consts:[["echarts","","aria-label","Aerob, aralash, anaerob va sakrash umumiy qiymatlarini taqqoslovchi doiraviy grafik","role","img",1,"h-64","w-full",3,"options"]],template:function(t,o){t&1&&m(0,"div",0),t&2&&l("options",o.chartOptions())},dependencies:[v],encapsulation:2,changeDetection:0})};var oe=(a,e)=>e.id;function re(a,e){if(a&1&&(i(0,"option",8),p(1),s()),a&2){let t=e.$implicit;l("value",t.id),h(),P(t.name)}}var R=class a{workloadService=O(w);groups=this.workloadService.groups;selectedGroup=this.workloadService.selectedGroup;onGroupChange(e){let t=e.target;this.workloadService.selectGroup(t.value)}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=b({type:a,selectors:[["app-dashboard"]],decls:23,vars:3,consts:[[1,"min-h-screen","bg-gray-50","p-6"],[1,"mb-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"mt-1","text-sm","text-gray-600"],[1,"mb-4"],["for","group-select",1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"relative","w-full","max-w-xs"],["id","group-select",1,"block","w-full","appearance-none","rounded-lg","border","border-gray-300","bg-white","px-4","py-2.5","pr-10","text-sm","font-medium","text-gray-700","shadow-sm","transition-all","hover:border-blue-400","focus:border-blue-500","focus:outline-none","focus:ring-2","focus:ring-blue-500/20",3,"change","value"],[3,"value"],[1,"pointer-events-none","absolute","inset-y-0","right-0","flex","items-center","pr-3"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-gray-400"],["fill-rule","evenodd","d","M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule","evenodd"],[1,"mb-4","rounded-lg","bg-white","p-4","shadow"],[1,"mb-2","text-lg","font-semibold","text-gray-800"],[3,"data"]],template:function(t,o){t&1&&(i(0,"div",0)(1,"header",1)(2,"h1",2),p(3,"Yuklamalar monitoringi"),s(),i(4,"p",3),p(5,"Haftalik mashg'ulot ma'lumotlarini vizualizatsiya qilish"),s()(),i(6,"div",4)(7,"label",5),p(8," Guruhni tanlang "),s(),i(9,"div",6)(10,"select",7),_("change",function(y){return o.onGroupChange(y)}),z(11,re,2,2,"option",8,oe),s(),i(13,"div",9),$(),i(14,"svg",10),m(15,"path",11),s()()()(),T(),i(16,"section",12)(17,"h2",13),p(18,"Mashg'ulot yuklama"),s(),m(19,"app-workload-line-chart",14),i(20,"h2",13),p(21,"Yuklama taqsimoti"),s(),m(22,"app-workload-pie-chart",14),s()()),t&2&&(h(10),l("value",o.selectedGroup().id),h(),F(o.groups()),h(8),l("data",o.selectedGroup().data),h(3),l("data",o.selectedGroup().data))},dependencies:[C,D],encapsulation:2,changeDetection:0})};export{R as DashboardComponent};
