import{Aa as l,Ba as m,Ca as i,Da as p,Ea as H,Fa as u,Ga as _,I as W,Ia as h,Ja as b,M as $,Ma as g,R as q,S as F,a as O,aa as A,d as Y,ka as f,sa as c,ya as T,za as z}from"./chunk-DB7HFREQ.js";var G={};Y(G,{aerob:()=>j,anaerob:()=>Z,aralash:()=>R,maxsus:()=>V,sakrash:()=>J,sport:()=>U});var j=[22.4,28,33.6,28.2,18,24.6,30.8,31,19,27.6,34.7,41.5,34.6,30.6,38.2,45.9,38.3,19.6,26.4,32.7,33,20,28,34,42,36,34.5,43.2,51.8,43,32,39.9,48.8,42,23.6,31.5,39,40,23.7,28.2,28.6,34.2,23.2,18.2,24.4,30.4,31,18.4,34.2,42.7,51.4,43],R=[12,15,17.9,14.8,9.8,13,16,16.8,10.1,14.7,18.4,22,18.5,16.2,20.3,24.4,20.5,10.5,14,17.2,17.8,10.6,15,18.8,22.1,14.8,18.4,23,27.6,22.8,17.4,21.4,26,21.8,12.4,16.5,20.4,22,12.6,15.2,15.4,18.2,12,9.4,13,16,16.5,10.2,18.2,22.6,27.4,23],Z=[1.2,1.5,2,1.6,1,1.2,1.6,1.8,1.1,1.5,2,2.3,2,1.7,2.1,2.6,2.3,1.2,1.5,1.8,2,1,1.8,2,2.3,1.8,2,2.5,3,2.3,1.8,2.4,2.6,2.4,1.2,1.8,2.1,2.4,1.4,1.5,1.8,2,1.2,1,1.4,1.6,1.8,1.2,1.8,2.4,3,2.5],J=[.5,.7,.8,.7,.5,.6,.7,.8,.4,.7,.8,1,.9,.7,.9,1.1,1,.5,.6,.8,.8,.5,.7,.9,1,8,.8,1,1.2,1.1,.7,1,1.2,1,.5,.7,1,1,.6,.8,.7,.8,.4,.4,.6,.7,.7,.5,.8,1.2,1.2,1],U=[1,1,1,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1],V=[0,1,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0];var N=[{id:"stg-1",name:"1-bosqich",data:O({},G)}];var v=class a{groups=A(N);selectedGroupId=A(N[0]?.id??"");selectedGroup=h(()=>{let t=this.selectedGroupId();return this.groups().find(e=>e.id===t)??this.groups()[0]});selectGroup(t){this.selectedGroupId.set(t)}static \u0275fac=function(e){return new(e||a)};static \u0275prov=W({token:a,factory:a.\u0275fac,providedIn:"root"})};var x=[{name:"Sentyabr",weeks:4},{name:"Oktyabr",weeks:5},{name:"Noyabr",weeks:4},{name:"Dekabr",weeks:4},{name:"Yanvar",weeks:5},{name:"Fevral",weeks:4},{name:"Mart",weeks:4},{name:"Aprel",weeks:4},{name:"May",weeks:5},{name:"Iyun",weeks:4},{name:"Iyul",weeks:5},{name:"Avgust",weeks:4}];function K(a){let t=0;for(let e of x)if(t+=e.weeks,a<t)return e.name;return x[x.length-1].name}function Q(){let a=[],t=0;for(let e of x)t+=e.weeks,t<52&&a.push(t-1);return a}var S=class a{data=b.required();chartOptions=h(()=>{let t=this.data(),e=Array.from({length:52},(s,o)=>`${o+1}`),d=Q().map(s=>({xAxis:s,lineStyle:{type:"dashed",color:"#d1d5db",width:1},label:{show:!1}}));return{tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:s=>{let o=s,n=o[0].dataIndex,M=n+1,y=`<strong>${K(n)}, ${M}-hafta</strong><br/>`;return o.forEach(k=>{y+=`<span style="color:${k.color}">\u25CF</span> ${k.seriesName}: <strong>${k.value} km</strong><br/>`}),y}},legend:{data:["Aerob yuklama","Aralash yuklama","Anaerob yuklama","Sakrashlar"],top:0,itemGap:15},grid:{left:"3%",right:"4%",bottom:"18%",top:"12%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e,name:"Hafta",nameLocation:"middle",nameGap:30,axisLabel:{interval:3}},yAxis:{type:"value",name:"Masofa (km)",nameLocation:"middle",nameGap:50},dataZoom:[{type:"slider",start:0,end:100,bottom:10,height:25},{type:"inside",start:0,end:100}],series:[{name:"Aerob yuklama",type:"line",smooth:!0,data:t.aerob,lineStyle:{width:2},itemStyle:{color:"#22c55e"},symbol:"circle",symbolSize:6,showSymbol:!1,emphasis:{focus:"series"},markLine:{silent:!0,symbol:"none",data:d}},{name:"Aralash yuklama",type:"line",smooth:!0,data:t.aralash,lineStyle:{width:2},itemStyle:{color:"#eab308"},symbol:"circle",symbolSize:6,showSymbol:!1,emphasis:{focus:"series"}},{name:"Anaerob yuklama",type:"line",smooth:!0,data:t.anaerob,lineStyle:{width:2},itemStyle:{color:"#ef4444"},symbol:"circle",symbolSize:6,showSymbol:!1,emphasis:{focus:"series"}},{name:"Sakrashlar",type:"line",smooth:!0,data:t.sakrash,lineStyle:{width:2},itemStyle:{color:"#3b82f6"},symbol:"circle",symbolSize:6,showSymbol:!1,emphasis:{focus:"series"}}]}});static \u0275fac=function(e){return new(e||a)};static \u0275cmp=c({type:a,selectors:[["app-workload-line-chart"]],inputs:{data:[1,"data"]},decls:1,vars:1,consts:[["echarts","","aria-label","52 hafta davomida aerob, aralash, anaerob va sakrash qiymatlarini ko'rsatuvchi yuklama chiziqli grafigi","role","img",1,"h-[400px]","w-full",3,"options"]],template:function(e,r){e&1&&p(0,"div",0),e&2&&l("options",r.chartOptions())},dependencies:[g],encapsulation:2,changeDetection:0})};var C=class a{data=b.required();chartOptions=h(()=>{let t=this.data(),e=t.aerob.reduce((o,n)=>o+n,0),r=t.aralash.reduce((o,n)=>o+n,0),d=t.anaerob.reduce((o,n)=>o+n,0),s=t.sakrash.reduce((o,n)=>o+n,0);return{tooltip:{trigger:"item",formatter:o=>{let n=o;return`<strong>${n.name}</strong><br/>Jami: ${n.value.toFixed(1)} km<br/>Ulushi: ${n.percent.toFixed(1)}%`}},legend:{orient:"vertical",right:"5%",top:"center",itemGap:12},series:[{name:"Yuklama taqsimoti",type:"pie",radius:["40%","70%"],center:["40%","50%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:8,borderColor:"#fff",borderWidth:2},label:{show:!0,formatter:"{b}: {d}%"},emphasis:{label:{show:!0,fontSize:14,fontWeight:"bold"}},labelLine:{show:!0},data:[{value:e,name:"Aerob yuklama",itemStyle:{color:"#22c55e"}},{value:r,name:"Aralash yuklama",itemStyle:{color:"#eab308"}},{value:d,name:"Anaerob yuklama",itemStyle:{color:"#ef4444"}},{value:s,name:"Sakrashlar",itemStyle:{color:"#3b82f6"}}]}]}});static \u0275fac=function(e){return new(e||a)};static \u0275cmp=c({type:a,selectors:[["app-workload-pie-chart"]],inputs:{data:[1,"data"]},decls:1,vars:1,consts:[["echarts","","aria-label","Aerob, aralash, anaerob va sakrash umumiy qiymatlarini taqqoslovchi doiraviy grafik","role","img",1,"h-64","w-full",3,"options"]],template:function(e,r){e&1&&p(0,"div",0),e&2&&l("options",r.chartOptions())},dependencies:[g],encapsulation:2,changeDetection:0})};var I=[{name:"Sentyabr",weeks:4},{name:"Oktyabr",weeks:5},{name:"Noyabr",weeks:4},{name:"Dekabr",weeks:4},{name:"Yanvar",weeks:5},{name:"Fevral",weeks:4},{name:"Mart",weeks:4},{name:"Aprel",weeks:4},{name:"May",weeks:5},{name:"Iyun",weeks:4},{name:"Iyul",weeks:5},{name:"Avgust",weeks:4}];function X(a){let t=0;for(let e of I)if(t+=e.weeks,a<t)return e.name;return I[I.length-1].name}var D=class a{sport=b.required();maxsus=b.required();chartOptions=h(()=>{let t=this.sport(),e=this.maxsus(),r=Array.from({length:52},(s,o)=>`${o+1}`),d=[];return t.forEach((s,o)=>{d.push([o,0,s])}),e.forEach((s,o)=>{d.push([o,1,s+2])}),{tooltip:{position:"top",formatter:s=>{let o=s,n=o.data[0],M=n+1,L=X(n),y=o.data[1]===0?"Sport o'yinlari":"Maxsus kuch mashqlari",P=(o.data[1]===0?o.data[2]===1:o.data[2]===3)?"\u2713 Faol":"\u2717 Nofaol";return`<strong>${L}, ${M}-hafta</strong><br/>${y}: ${P}`}},grid:{left:"12%",right:"2%",bottom:"15%",top:"5%"},xAxis:{type:"category",data:r,splitArea:{show:!1},axisLabel:{interval:3,fontSize:10},axisTick:{show:!1},axisLine:{show:!1}},yAxis:{type:"category",data:["Sport o'yinlari","Maxsus kuch mashqlari"],splitArea:{show:!1},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{fontSize:10}},visualMap:{show:!1,min:0,max:3,inRange:{color:["#fed7aa","#f97316","#e9d5ff","#a855f7"]}},series:[{type:"heatmap",data:d,itemStyle:{borderRadius:3,borderWidth:2,borderColor:"#fff"},emphasis:{itemStyle:{shadowBlur:5,shadowColor:"rgba(0, 0, 0, 0.3)"}}}]}});static \u0275fac=function(e){return new(e||a)};static \u0275cmp=c({type:a,selectors:[["app-binary-heatmap-chart"]],inputs:{sport:[1,"sport"],maxsus:[1,"maxsus"]},decls:1,vars:1,consts:[["echarts","","aria-label","52 hafta davomida sport va maxsus faoliyatni ko'rsatuvchi grafik","role","img",1,"h-36","w-full",3,"options"]],template:function(e,r){e&1&&p(0,"div",0),e&2&&l("options",r.chartOptions())},dependencies:[g],encapsulation:2,changeDetection:0})};var ee=(a,t)=>t.id;function te(a,t){if(a&1&&(m(0,"option",8),u(1),i()),a&2){let e=t.$implicit;l("value",e.id),f(),_(e.name)}}var B=class a{workloadService=$(v);groups=this.workloadService.groups;selectedGroup=this.workloadService.selectedGroup;onGroupChange(t){let e=t.target;this.workloadService.selectGroup(e.value)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=c({type:a,selectors:[["app-dashboard"]],decls:29,vars:5,consts:[[1,"min-h-screen","bg-gray-50","p-6"],[1,"mb-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"mt-1","text-sm","text-gray-600"],[1,"mb-4"],["for","group-select",1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"relative","w-full","max-w-xs"],["id","group-select",1,"block","w-full","appearance-none","rounded-lg","border","border-gray-300","bg-white","px-4","py-2.5","pr-10","text-sm","font-medium","text-gray-700","shadow-sm","transition-all","hover:border-blue-400","focus:border-blue-500","focus:outline-none","focus:ring-2","focus:ring-blue-500/20",3,"change","value"],[3,"value"],[1,"pointer-events-none","absolute","inset-y-0","right-0","flex","items-center","pr-3"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-gray-400"],["fill-rule","evenodd","d","M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule","evenodd"],[1,"mb-4","rounded-lg","bg-white","p-4","shadow"],[1,"mb-2","text-lg","font-semibold","text-gray-800"],[3,"data"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-4"],[1,"rounded-lg","bg-white","p-4","shadow"],[3,"sport","maxsus"]],template:function(e,r){e&1&&(m(0,"div",0)(1,"header",1)(2,"h1",2),u(3,"Yuklamalar monitoringi"),i(),m(4,"p",3),u(5,"Haftalik mashg'ulot ma'lumotlarini vizualizatsiya qilish"),i()(),m(6,"div",4)(7,"label",5),u(8," Guruhni tanlang "),i(),m(9,"div",6)(10,"select",7),H("change",function(s){return r.onGroupChange(s)}),T(11,te,2,2,"option",8,ee),i(),m(13,"div",9),q(),m(14,"svg",10),p(15,"path",11),i()()()(),F(),m(16,"section",12)(17,"h2",13),u(18,"Mashg'ulot yuklama"),i(),p(19,"app-workload-line-chart",14),i(),m(20,"div",15)(21,"section",16)(22,"h2",13),u(23,"Yuklama taqsimoti"),i(),p(24,"app-workload-pie-chart",14),i(),m(25,"section",16)(26,"h2",13),u(27,"Sport va Maxsus faoliyat"),i(),p(28,"app-binary-heatmap-chart",17),i()()()),e&2&&(f(10),l("value",r.selectedGroup().id),f(),z(r.groups()),f(8),l("data",r.selectedGroup().data),f(5),l("data",r.selectedGroup().data),f(4),l("sport",r.selectedGroup().data.sport)("maxsus",r.selectedGroup().data.maxsus))},dependencies:[S,C,D],encapsulation:2,changeDetection:0})};export{B as DashboardComponent};
